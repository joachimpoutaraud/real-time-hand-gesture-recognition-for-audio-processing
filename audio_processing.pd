#N canvas 823 33 994 683 12;
#X text 478 334 on/off;
#N canvas 405 15 1075 859 pitchshift 0;
#X floatatom 19 87 0 0 0 0 - - - 0;
#X obj 82 428 *~;
#X obj 205 365 line~;
#X floatatom 237 182 0 0 0 0 - - - 0;
#X text 19 33 PITCH SHIFTER;
#X obj 205 339 pack 0 200;
#X obj 237 156 r window;
#X obj 19 58 r transpose;
#X obj 19 143 exp;
#X floatatom 19 255 6 0 0 0 - - - 0;
#X obj 19 275 /;
#X obj 146 259 * 0.001;
#X obj 314 435 line~;
#X obj 314 410 pack 0 200;
#X floatatom 314 359 0 0 0 0 - - - 0;
#X obj 314 333 r delay;
#X obj 82 454 +~;
#X obj 19 410 cos~;
#X obj 19 480 *~;
#X obj 19 543 +~;
#X obj 106 387 wrap~;
#X obj 251 430 *~;
#X obj 251 463 +~;
#X obj 188 490 cos~;
#X obj 188 523 *~;
#X obj 562 30 loadbang;
#X obj 146 286 t b f;
#X floatatom 19 355 6 0 0 0 - - - 0;
#X obj 106 360 +~ 0.5;
#X obj 19 443 -~ 0.5;
#X obj 19 513 *~ 0.5;
#X obj 188 429 -~ 0.5;
#X obj 188 462 *~ 0.5;
#X obj 19 212 - 1;
#X obj 19 187 * 0.05776;
#X obj 19 238 * -1;
#X text 53 156 <-- transposition;
#X text 96 169 (halftones);
#X text 82 249 speed;
#X text 81 263 change;
#X text 281 181 <--window (msec);
#X text 54 322 tape head;
#X text 495 153 This is a classic rotating-tape-head style pitch shifter
using the vd~ variable delay object. Ther are two moving tape heads
\, each of which is loudest at the middle of its trajectory \, and
enveloped out at the moment it has to jump back (or forward) to start
another scratch. Most of the brain work is in computing how fast the
tape heads have to move to get the desired transposition.;
#X text 495 272 The "window size" is the total trajectory of the read
points in the delay line \, in milliseconds. The delay times are controlled
by a phasor~ object. The second delay time \, 180 degrees out of phase
from the first one \, is computed using the "wrap" object.;
#X text 493 362 The "window size" is the total trajectory of the read
points in the delay line \, in milliseconds. The delay times are controlled
by a phasor~ object. The second delay time \, 180 degrees out of phase
from the first one \, is computed using the "wrap" object.;
#X text 492 454 The cos~ objects compute the fadein and fadeout of
the two delay line outputs. They each traverse the positive half of
the cosine waveform (phase -0.25 to +0.25) over the time the phase
goes from one end to the other.;
#X obj 19 386 phasor~;
#X text 759 534 updated for Pd version 0.37-1;
#X obj 314 386 max 1.5;
#X text 317 292 delay;
#X text 314 310 (msec);
#X obj 237 209 max 1;
#X text 55 335 rotation freq;
#X obj 82 480 vd~ G09-del;
#X obj 251 492 vd~ G09-del;
#X obj 264 112 delwrite~ G09-del 5000;
#X obj 45 119 - 58;
#X msg 112 554 1;
#X msg 387 624 0;
#X obj 387 580 sel 1;
#X obj 387 522 env~;
#X obj 386 497 *~ 10;
#X obj 403 545 >= 0.1;
#X obj 132 107 s reset_start;
#X obj 387 699 vline~ 1;
#X obj 387 663 pack f 12;
#X msg 562 56 \; transpose 0 \; window 100 \; delay 0 \; pd dsp 1;
#X obj 110 76 t f b b f b;
#X obj 235 590 pipe 100;
#X obj 134 41 inlet;
#X obj 265 79 inlet~;
#X obj 18 583 outlet~;
#X text 385 473 r~ stop;
#X connect 0 0 34 0;
#X connect 1 0 16 0;
#X connect 2 0 1 1;
#X connect 2 0 21 1;
#X connect 3 0 51 0;
#X connect 5 0 2 0;
#X connect 6 0 3 0;
#X connect 7 0 0 0;
#X connect 8 0 9 0;
#X connect 9 0 33 0;
#X connect 10 0 27 0;
#X connect 11 0 26 0;
#X connect 12 0 16 1;
#X connect 12 0 22 1;
#X connect 13 0 12 0;
#X connect 14 0 48 0;
#X connect 15 0 14 0;
#X connect 16 0 53 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 71 0;
#X connect 20 0 21 0;
#X connect 20 0 31 0;
#X connect 21 0 22 0;
#X connect 22 0 54 0;
#X connect 23 0 24 0;
#X connect 24 0 19 1;
#X connect 25 0 66 0;
#X connect 26 0 10 0;
#X connect 26 1 10 1;
#X connect 27 0 46 0;
#X connect 28 0 20 0;
#X connect 29 0 30 0;
#X connect 30 0 17 0;
#X connect 31 0 32 0;
#X connect 32 0 23 0;
#X connect 33 0 35 0;
#X connect 34 0 8 0;
#X connect 35 0 10 0;
#X connect 46 0 1 0;
#X connect 46 0 29 0;
#X connect 46 0 28 0;
#X connect 48 0 13 0;
#X connect 51 0 11 0;
#X connect 51 0 5 0;
#X connect 53 0 18 1;
#X connect 54 0 24 1;
#X connect 56 0 0 0;
#X connect 57 0 68 0;
#X connect 58 0 65 0;
#X connect 59 0 58 0;
#X connect 60 0 62 0;
#X connect 61 0 60 0;
#X connect 62 0 59 0;
#X connect 65 0 64 0;
#X connect 67 0 56 0;
#X connect 67 1 63 0;
#X connect 67 2 57 0;
#X connect 67 3 58 0;
#X connect 68 0 65 0;
#X connect 69 0 67 0;
#X connect 70 0 55 0;
#X restore 201 267 pd pitchshift;
#X text 195 241 MIDI PITCHER;
#X obj 26 54 adc~;
#X obj 421 435 dac~;
#X obj 422 354 *~;
#X text 105 57 Gain the microphone;
#X obj 26 78 *~;
#X floatatom 63 55 5 0 0 0 - - - 0;
#X obj 28 174 vu 15 120 empty empty -1 -8 0 10 #404040 #000000 1 0
;
#X obj 27 124 env~;
#X obj 27 146 - 100;
#X obj 67 124 s~ signal;
#X obj 289 175 r~ signal;
#X obj 461 337 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 334 30 netreceive -u -b 8006;
#X obj 334 54 oscparse;
#X obj 334 82 route list;
#X obj 64 11 loadbang;
#X msg 785 185 \; pd quit;
#X obj 785 163 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 461 287 bang;
#X obj 461 312 delay 100;
#X obj 377 243 osc~;
#X obj 359 270 *~;
#X obj 354 300 *~ 5;
#X obj 465 388 rev3~ 95 90;
#X obj 331 116 route pitch reverb delay modulation action quit;
#X obj 464 218 delread~ buffer 0;
#X obj 305 217 delwrite~ buffer 5000;
#X obj 561 251 *~;
#X obj 561 275 s~ feedback;
#X floatatom 610 214 5 0 0 0 - - - 0;
#X obj 610 163 loadbang;
#X obj 202 176 r~ feedback;
#X msg 610 190 0.6;
#X msg 64 32 1;
#X connect 1 0 5 0;
#X connect 1 0 24 0;
#X connect 3 0 7 0;
#X connect 5 0 4 0;
#X connect 5 0 4 1;
#X connect 5 0 26 0;
#X connect 7 0 10 0;
#X connect 7 0 12 0;
#X connect 8 0 7 1;
#X connect 10 0 11 0;
#X connect 11 0 9 0;
#X connect 13 0 1 1;
#X connect 13 0 29 0;
#X connect 14 0 5 1;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 27 0;
#X connect 18 0 36 0;
#X connect 20 0 19 0;
#X connect 21 0 22 0;
#X connect 22 0 14 0;
#X connect 23 0 24 1;
#X connect 24 0 25 0;
#X connect 25 0 5 0;
#X connect 26 0 4 0;
#X connect 26 1 4 1;
#X connect 27 0 1 0;
#X connect 27 1 26 3;
#X connect 27 2 28 0;
#X connect 27 3 23 0;
#X connect 27 4 21 0;
#X connect 27 5 20 0;
#X connect 28 0 5 0;
#X connect 28 0 30 0;
#X connect 30 0 31 0;
#X connect 32 0 30 1;
#X connect 33 0 35 0;
#X connect 33 0 21 0;
#X connect 34 0 29 0;
#X connect 35 0 32 0;
#X connect 36 0 8 0;
